<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>
  <h4>Mnova json demonstration page</h4>
  <p>This page creates NMR spectra from user data and uses the CHEMeDATA viewer for the visualization.</p>
  <style>
    .code-box {
      background: #f4f4f4;
      padding: 10px;
      font-family: monospace;
    }
  </style>

<div style="display: inline-block; text-align: justify;">
		<div id="my_dataviz"></div>
		<div style="font-size: 0.85em; color: #555; text-align: center;">
      Figure 1: Viewer of a set of spectra simjlated from user-defined data (see below). Brush horizontally to zoom and double-click to restore the full spectrum.
		</div>
	</div>


		<h3>Code of the page</h3>
		<pre><code>
import { NMRspectrumObject } from "./src/nmrSpectrumObject.js";
import { initializeSettings } from "./src/nmrSpectrum.js";
import { NmrSpectrum } from "./src/nmrSpectrum.js";
import { createSVG } from "./src/nmrSpectrum.js";

const nMRspectraObjects = [
  new NMRspectrumObject({
    demo : {
      arrayLorentzian : {
        centers: [7.27, 5.0, 0.0],
        widthsInHz: [0.7, 0.7, 0.7],
        amplitudes: [1, 10, 1],
      }
    }
  }), 
  new NMRspectrumObject({
    demo : {
      spectralData:{firstPoint:9}, 
      arrayLorentzian:{centers:[3.8]}}
  })
]; 


const settings = initializeSettings({});

var svg = createSVG("my_dataviz", settings);

var spectrum = new NmrSpectrum(
  nMRspectraObjects,
  svg,
  settings,
  settings.smallScreen
);
		</code></pre>
	</div>

  <script type="module">

    import { NMRspectrumObject } from "./src/nmrSpectrumObject.js";
    import { initializeSettings } from "./src/nmrSpectrum.js";
    import { NmrSpectrum } from "./src/nmrSpectrum.js";
    import { createSVG } from "./src/nmrSpectrum.js";
    const nMRspectraObjects = [
    new NMRspectrumObject({demo : {arrayLorentzian : {
			centers: [7.27, 5.0, 0.0],
			widthsInHz: [0.7, 0.7, 0.7],
			amplitudes: [1, 10, 1],
		}}}), 
    new NMRspectrumObject({demo : {
    spectralData:{firstPoint:9}, 
    arrayLorentzian:{centers:[3.8]}}
    })
    ]; 

   

    const settings = initializeSettings({});
    var svg = createSVG("my_dataviz", settings);
    var spectrum = new NmrSpectrum(
      nMRspectraObjects,
      svg,
      settings,
      settings.smallScreen
    );
    //const settings_with_spectrum_settings = spectrum.getSettings(); // if add assignement
    /*
    const classes = [spectrum];
          classes.forEach((sender) => {
            classes.forEach((receiver) => {
              if (sender !== receiver) {
                sender.getExportTypes().forEach((sendType) => {
                  if (receiver.getImportTypes().includes(sendType)) {
                    sender.registerReceiver(receiver, sendType);
                  }
                });
              }
            });
          });
    
    */
    //	spectrum.triggerSendAxis();

  </script>

</body>

</html>